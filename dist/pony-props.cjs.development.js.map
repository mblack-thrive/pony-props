{"version":3,"file":"pony-props.cjs.development.js","sources":["../src/use-pony/usePony.interface.ts","../src/use-pony/utils/get-flex-order.ts","../src/use-pony/usePony.state.ts","../src/use-pony/usePony.ts"],"sourcesContent":["export enum ActionKind {\n  Next = 'Next',\n  Previous = 'Previous',\n  Reset = 'Reset',\n  UpdateOrder = 'UpdateOrder',\n  AnimationComplete = 'AnimationComplete',\n}\n\nexport type State = {\n  activeSlideIndex: number;\n  slideDirection: ActionKind;\n  order: number[];\n  animating: boolean;\n};\n\nexport type Action = {\n  type: ActionKind;\n  payload: {\n    numItems: number;\n    activeSlideIndex?: number;\n  };\n};\n","/**\n * Gets the flex order for a slide.\n * @param index - the index of the slide\n * @param activeSlideIndex - the current/visible slide index\n * @param numItems - number of slides in carousel\n * @returns the flex order for a carousel item\n */\nexport const getOrder = ({\n  index,\n  activeSlideIndex,\n  numItems,\n}: Record<'index' | 'activeSlideIndex' | 'numItems', number>) =>\n  index - activeSlideIndex < 0\n    ? numItems - Math.abs(index - activeSlideIndex)\n    : index - activeSlideIndex;\n","import { Action, ActionKind, State } from './usePony.interface';\nimport { getOrder } from './utils/get-flex-order';\n\nexport const initialState: State = {\n  activeSlideIndex: 0,\n  slideDirection: ActionKind.Reset,\n  order: [],\n  animating: false,\n};\n\nexport const reducer = (prevState: State, action: Action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case ActionKind.Reset:\n      return initialState;\n    case ActionKind.Previous:\n      const isFirstIndex = prevState.activeSlideIndex === 0;\n      return {\n        ...prevState,\n        slideDirection: ActionKind.Previous,\n        activeSlideIndex: isFirstIndex\n          ? payload?.numItems - 1\n          : prevState.activeSlideIndex - 1,\n        animating: true,\n      };\n    case ActionKind.Next:\n      const isLastIndex = prevState.activeSlideIndex === payload.numItems - 1;\n      return {\n        ...prevState,\n        slideDirection: ActionKind.Next,\n        activeSlideIndex: isLastIndex ? 0 : prevState.activeSlideIndex + 1,\n        animating: true,\n      };\n    case ActionKind.UpdateOrder:\n      return {\n        ...prevState,\n        order: (Array.apply(null, Array(payload?.numItems)).map((_, i) => getOrder({\n          index: i,\n          activeSlideIndex: payload?.activeSlideIndex || prevState.activeSlideIndex,\n          numItems: payload?.numItems,\n        }))),\n      };\n    case ActionKind.AnimationComplete:\n      return {\n        ...prevState,\n        animating: false,\n      };\n    default:\n      return prevState;\n  }\n};\n","import {\n  CSSProperties,\n  useReducer,\n  useState,\n  AriaAttributes,\n  useEffect,\n  useRef,\n} from 'react';\nimport { ActionKind } from './usePony.interface';\nimport { initialState, reducer } from './usePony.state';\nimport { getOrder } from './utils/get-flex-order';\n\n// TODO: readme\n\nexport const usePony = ({\n  numItems,\n  initialActiveSlideIndex = initialState.activeSlideIndex,\n  isAnnouncerVisible = false,\n  reduceMotion = false,\n  transitionDuration = 500,\n  onInit,\n  onAfterChange,\n}: {\n  numItems: number;\n  initialActiveSlideIndex?: number;\n  isAnnouncerVisible?: boolean;\n  reduceMotion?: boolean;\n  transitionDuration?: number;\n  onInit?(): void;\n  onAfterChange?(activeIndex: number): void;\n}) => {\n  const [state, dispatch] = useReducer(reducer, {\n    ...initialState,\n    activeSlideIndex: initialActiveSlideIndex,\n    order: (Array.apply(null, Array(numItems)).map((_, i) => getOrder({\n      index: i,\n      activeSlideIndex: initialActiveSlideIndex,\n      numItems,\n    })))\n  });\n  const sectionRef = useRef<HTMLDivElement>(null);\n  const headingRef = useRef<HTMLHeadingElement>(null);\n  const carouselWrapperRef = useRef<HTMLDivElement>(null);\n  const carouselRef = useRef<HTMLUListElement>(null);\n  const carouselItemRef = useRef<HTMLLIElement>(null);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const announcerRef = useRef<HTMLDivElement>(null);\n  const TRANSITION_DURATION_MS = reduceMotion ? 0 : transitionDuration;\n\n  const [currentSwipeDirection, setCurrentSwipeDirection] = useState<\n    ActionKind.Previous | ActionKind.Next | null\n  >(null);\n\n  useEffect(() => {\n    if (onInit) {\n      onInit();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!sectionRef.current) {\n      throw new Error('please apply getSectionProps() to your <section>');\n    }\n    // if (!headingRef.current) {\n    //   throw new Error('please apply getHeadingProps() to your <h{1,2,3}>');\n    // }\n    if (!carouselWrapperRef.current) {\n      throw new Error('please apply getCarouselWrapperProps() to your <div>');\n    }\n    if (!carouselRef.current) {\n      throw new Error('please apply getCarouselProps() to your <ul>');\n    }\n    if (!carouselItemRef.current) {\n      throw new Error('please apply getCarouselItemProps() to your <li>');\n    }\n    if (!buttonRef.current) {\n      throw new Error('please apply getButtonProps() to your <button>');\n    }\n    if (!announcerRef.current) {\n      throw new Error('please apply getAnnouncerProps() to your <div>');\n    }\n  }, [\n    sectionRef,\n    headingRef,\n    carouselWrapperRef,\n    carouselRef,\n    carouselItemRef,\n    buttonRef,\n    announcerRef,\n  ]);\n\n  useEffect(() => {\n    // Listen for swipe direction changes. Apply appropriate translateX transition.\n    if (currentSwipeDirection) {\n      const transformArray = [\n        { transform: 'translateX(-100%)' },\n        { transform: 'translateX(0px)' },\n      ];\n\n      const slideAnimation = carouselRef?.current?.animate(\n        currentSwipeDirection === ActionKind.Previous\n          ? transformArray\n          : transformArray.reverse(),\n        {\n          easing: 'ease-in',\n          duration: TRANSITION_DURATION_MS,\n        }\n      );\n\n      if (slideAnimation) {\n        slideAnimation.onfinish = () => {\n          if (currentSwipeDirection === ActionKind.Previous) {\n            dispatch({ type: ActionKind.UpdateOrder, payload: {\n              numItems,\n              activeSlideIndex: state.activeSlideIndex,\n            }});\n          }\n  \n          if (currentSwipeDirection === ActionKind.Next) {\n            dispatch({ type: ActionKind.UpdateOrder, payload: {\n              numItems,\n              activeSlideIndex: state.activeSlideIndex,\n            }});\n          }\n\n          dispatch({ type: ActionKind.AnimationComplete, payload: {\n            numItems,\n          }});\n          onAfterChange && onAfterChange(state.activeSlideIndex);\n        };\n      }\n      // setTimeout(() => {\n      // }, TRANSITION_DURATION_MS);\n    }\n  }, [state.activeSlideIndex, currentSwipeDirection, numItems]);\n\n  const slide = (slideDirection: ActionKind.Previous | ActionKind.Next) => {\n    if (!state.animating) {\n      setCurrentSwipeDirection(slideDirection);\n      dispatch({ type: slideDirection, payload: { numItems } });\n    }\n  };\n\n  const getSectionProps = () => ({\n    ref: sectionRef,\n    as: 'section',\n    ...(headingRef.current ? { 'aria-labelledby': 'carousel-heading' } : {}),\n    // 'aria-roledescription': 'carousel',\n  });\n\n  const getHeadingProps = () => ({\n    ref: headingRef,\n    id: 'carousel-heading',\n  });\n\n  const getCarouselWrapperProps = () => ({\n    ref: carouselWrapperRef,\n    style: { width: '100%', overflow: 'hidden' },\n  });\n\n  const getCarouselProps = () => ({\n    ref: carouselRef,\n    // 'aria-label': 'Slides',\n    style: {\n      display: 'flex',\n    },\n  });\n\n  const getCarouselItemProps = (index: number) => ({\n    ref: carouselItemRef,\n    id: `carousel-item-${\n      index === state.activeSlideIndex ? 'active' : index\n    }`,\n    // 'aria-roledescription': 'slide',\n    'aria-label': `${index + 1} of ${numItems}`,\n    'aria-current': index === state.activeSlideIndex,\n    // 'aria-hidden': index !== state.activeSlideIndex,\n    style: {\n      order: state.order[index],\n      // getOrder({\n      //   index,\n      //   activeSlideIndex: state.activeSlideIndex,\n      //   numItems,\n      // }),\n      display: 'flex',\n      flex: '1 0 100%',\n      flexBasis: '100%',\n      transition: 'none',\n        // Only apply this transition when the current swipe direction is next\n        // This ensures the re-ordering of items is smoother.\n        // currentSwipeDirection === ActionKind.Next\n        //   ? `order ${TRANSITION_DURATION_MS / 1000 + 0.1}s ease-in`\n        //   : 'none',\n    },\n  });\n\n  const getButtonProps = (\n    direction: ActionKind.Previous | ActionKind.Next\n  ) => ({\n    ref: buttonRef,\n    'aria-label': direction === ActionKind.Previous ? 'Previous' : 'Next',\n    onClick: () => slide(direction),\n  });\n\n  const getAnnouncerProps = () => ({\n    ref: announcerRef,\n    'aria-live': 'polite' as AriaAttributes['aria-live'],\n    'aria-atomic': 'true' as AriaAttributes['aria-atomic'],\n    style: isAnnouncerVisible\n      ? {}\n      : ({\n          clip: 'rect(0 0 0 0)',\n          clipPath: 'inset(50%)',\n          height: '1px',\n          overflow: 'hidden',\n          position: 'absolute',\n          whiteSpace: 'nowrap',\n          width: '1px',\n        } as CSSProperties),\n  });\n\n  return {\n    // prop getters.\n    getSectionProps,\n    getHeadingProps,\n    getCarouselWrapperProps,\n    getCarouselProps,\n    getCarouselItemProps,\n    getButtonProps,\n    getAnnouncerProps,\n    // state.\n    state: {\n      ...state,\n      currentSwipeDirection,\n    },\n  };\n};\n"],"names":["ActionKind","getOrder","index","activeSlideIndex","numItems","Math","abs","initialState","slideDirection","Reset","order","animating","reducer","prevState","action","type","payload","Previous","isFirstIndex","Next","isLastIndex","UpdateOrder","Array","apply","map","_","i","AnimationComplete","usePony","initialActiveSlideIndex","isAnnouncerVisible","reduceMotion","transitionDuration","onInit","onAfterChange","useReducer","state","dispatch","sectionRef","useRef","headingRef","carouselWrapperRef","carouselRef","carouselItemRef","buttonRef","announcerRef","TRANSITION_DURATION_MS","useState","currentSwipeDirection","setCurrentSwipeDirection","useEffect","current","Error","transformArray","transform","slideAnimation","animate","reverse","easing","duration","onfinish","slide","getSectionProps","ref","as","getHeadingProps","id","getCarouselWrapperProps","style","width","overflow","getCarouselProps","display","getCarouselItemProps","flex","flexBasis","transition","getButtonProps","direction","onClick","getAnnouncerProps","clip","clipPath","height","position","whiteSpace"],"mappings":"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"}